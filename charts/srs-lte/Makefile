CHARTREPO = "https://core.harbor.gradiant.loc/chartrepo/openverso"
HELM_USER = robot\$$write
HELM_PASSWORD = eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE1OTQ2NDE3NjEsImlzcyI6ImhhcmJvci10b2tlbi1kZWZhdWx0SXNzdWVyIiwiaWQiOjQsInBpZCI6MiwiYWNjZXNzIjpbeyJSZXNvdXJjZSI6Ii9wcm9qZWN0LzIvcmVwb3NpdG9yeSIsIkFjdGlvbiI6InB1c2giLCJFZmZlY3QiOiIifSx7IlJlc291cmNlIjoiL3Byb2plY3QvMi9oZWxtLWNoYXJ0IiwiQWN0aW9uIjoicmVhZCIsIkVmZmVjdCI6IiJ9LHsiUmVzb3VyY2UiOiIvcHJvamVjdC8yL2hlbG0tY2hhcnQtdmVyc2lvbiIsIkFjdGlvbiI6ImNyZWF0ZSIsIkVmZmVjdCI6IiJ9XX0.Kp6iMPkn7n_Uqv_CUJDjKDcpcSR3Ll8h_WEMctdHBFpfnBhTMbWLerOT9faJg8XaK3JcMAr08e7gm6JFfnaxGCF8d6CO2t81endAJNreZXnsyV08sfJ17DDU5LwHF6jtpJa42FdQfiLbVJ7bKlrIX48g7KV0Q9S_I4hnSSKo74Vej-yFsSQb9m8dDyPspaxTm1TJm1TBSXBOfFhismUua_Lcm4U8aEMmkQLnrxuUANMTR25mPnwwr8-4duh0s3POor2sZDqzGx_STKF4-o3-1orxBnZg82HR6L2vXleLXJW_UGxLVOhT1xLpu-43n1FM618ocOYvee-efTsjbKAuEyhp_4f_ilwN1cQgI53w7xNKpNzX6-CFvTk6laUcPNaczBmq8Afze96qRtJPlB0toDfte0boA2BSORlf5L_Oxskjl9Gdo2fEYqb0klBAeapepbCXmx3u3NcSTsO4QoE_W3ay5O3BopyVe0R_Xr0wbbkDNpz2JGW6FVpPD_JKcuJOCYHb5xyjjUseqpLCLel9ErpyR0iyeGKnx6pm0SZ_gojBMygheuFNIdhlj_BlwbWmAP-gJQOS051MC5PqeOcIQ5cUB5idwuQsRKpsW8psvN9_zIF5BsMosR5iHcSXiwBnqhUxpUY6F1ocLHE96LOesLGKfFURwD0Hjb0vHAtgBlE


.PHONY: all push

all: push

push:
	wget --no-check-certificate https://core.harbor.gradiant.loc/api/v2.0/systeminfo/getcert -O harbor-ca.crt
	helm push --ca-file=harbor-ca.crt --username=${HELM_USER} --password=${HELM_PASSWORD} . ${CHARTREPO}
	rm harbor-ca.crt
