{{ $open5gsName := .Release.Name }}

logger:
  level: {{ .Values.config.logLevel }}
parameter: {}

upf:
  pfcp:
    server:
    - dev: "eth0"
      port: {{ .Values.containerPorts.pfcp }}
    client:
    smf:
    - name: {{ default (printf "%s-smf-pfcp" $open5gsName) .Values.config.smf.pfcp.hostname }}

  gtpu:
    server:
    - dev: {{ default "eth0" .Values.config.upf.gtpu.dev }}
    {{- if .Values.config.upf.gtpu.advertise }}
    advertise: "{{ tpl .Values.config.upf.gtpu.advertise . }}"
    {{- end }}
  session:
    {{- range .Values.config.subnetList }}
    - {{- omit . "createDev" "enableNAT" | toYaml | nindent 6 }}
    {{- end }}
  {{- if .Values.metrics.enabled }}
  metrics:
    server:
    - dev: eth0
      port: 9090
  {{- end }}

