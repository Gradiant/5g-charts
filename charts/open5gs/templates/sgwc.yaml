{{- if .Values.sgwc.enabled }}
{{- $component := .Values.sgwc | deepCopy }}
{{- $values := merge (dict "Values" $component "component" "sgwc") . }}
{{ template "open5gs.deployment" $values }}
---
{{ template "open5gs.configmap" $values }}
---
{{ template "open5gs.hpa" $values }}
---
{{- range $k, $v := $component.services }}
{{- $_ := set $component "service" $v }}
{{- $values := merge (dict "Values" $component "component" "sgwc" "service" $k) $ }}
{{ template "open5gs.svc" $values }}
---
{{- end }}
{{- end }}
